#### 背景
- 形式验证的重要性：形式验证用于支持开发高质量、可证明正确的软件，在安全敏感系统、加密库、航空航天系统和医疗设备嵌入式软件等领域发挥着重要作用。
- Dafny 语言的验证特性：Dafny 是一种支持代码验证的强类型 imperative 编程语言，使用 Floyd-Hoare-style 风格的程序验证框架，通过设计约束和辅助验证断言来保证代码的正确性。
- 大型语言模型（LLMs）的兴起：LLMs 在代码生成、理解、摘要和转换等任务中取得了显著成果，但在形式验证编程语言中的应用研究较少。
- 提示工程的重要性：为 LLMs 设计合适的提示至关重要，以确保它们能够有效地完成任务。
#### 核心贡献
- 首次实证研究 LLMs 生成可验证 Dafny 方法的能力：通过使用 MBPP 数据集，评估了 GPT-4 和 PaLM-2 在生成 Dafny 方法和规范方面的表现。
- 思考链（CoT）提示的效率：发现 CoT 提示，结合检索增强生成的语义相似示例，可以生成 58% 问题的高质量可验证 Dafny 方法。
- 发布 MBPP-DFY-153 数据集：包含 153 个带有规范、解决方案和测试的 Dafny 程序问题，基于 MBPP 数据集，为 LLMs 和验证研究提供了宝贵资源。
- 验证技术的重要性：展示了程序验证技术如何帮助确保 LLMs 生成的代码符合规范。
### 部署实现
- 测试数据集：使用 MBPP 数据集构建了 MBPP-san-DFY 数据集，包含 178 个 Dafny 问题实例。
- 人类编写的数据集：手动翻译了 MBPP 数据集的一部分，创建了包含 50 个经过验证的 Dafny 方法的 MBPP-DFY-50 数据集。
- 模型选择：选择了 GPT-4 和 PaLM-2 作为研究对象，并进行了初步研究，发现它们在生成可验证 Dafny 方法方面具有一定的潜力。
- 提示设计：设计了三种类型的提示：
    - 无上下文提示：仅包含问题描述和格式说明，作为基线。
    - 签名提示：包含方法签名和测试用例，提供更多上下文信息。
    - 动态少量样本提示：结合 CoT 和检索增强生成的示例，逐步分解问题并解释解决方案。
- 评估指标：使用 Dafny 验证器评估 LLMs 生成的 Dafny 方法的正确性，并使用 verify@k 指标衡量合成性能。
- 温度调整：进行了温度调整实验，以确定最佳的温度设置，以获得最佳的性能。
#### 总结
- LLMs 在 Dafny 方法合成中具有潜力：适当的提示和验证技术可以帮助 LLMs 生成高质量、可验证的 Dafny 方法。
- CoT 提示和检索增强技术可以显著提高性能：这些技术可以帮助 LLMs 理解问题分解，并生成更准确的规范和实现。
- MBPP-DFY-153 数据集为 LLMs 和验证研究提供了宝贵资源。
- 未来研究方向：
- 探索 LLMs 在更复杂的程序合成任务中的潜力。
- 将验证技术与 LLMs 结合，用于更广泛的领域，例如法律论证、交通信号和结构工程。