#### 背景
- **背景**       
   论文提出了一个名为 ProTIP 的框架，旨在提高工具检索（Tool Retrieval, TR）和规划任务的能力。这项研究集中在如何通过工具检索为规划任务提供支持，尤其是在处理复杂请求时，如何有效地执行所有子任务。

- **已有的工作**
   砾土工作使用基于文本和基于向量的搜索基线方法来检索工具，并依靠任务分解（Task Decomposition）进行规划。然而，这些方法有一些限制，例如不能充分利用执行历史、需要大规模预训练的语言模型或昂贵的标记来生成高质量的重写，以及不能保证子任务与工具功能之间的对齐。

#### 核心贡献
- **提出了一个 ProTIP**
    - **挑战1：如何实现更有效的工具检索**
        ProTIP 引入了一种渐进式的检索方法，它通过迭代地检索与每个子任务最相关的工具并考虑执行历史来解决传统方法的局限性，保留了子任务的顺序，提高了检索效果，使其能够处理更复杂的查询。
   
    - **挑战2：如何提高规划的表现并减少虚构工具的生成**
        通过监督微调 OpenLLaMA-7B-v2 模型，ProTIP 旨在预测多步规划任务中的下一个API的执行。该方法考虑了历史信息，从而显著提高了工具准确性 (Tool Accuracy, TA) 并减少了虚构工具 (Tool Hallucination) 的生成，其效果在包含历史和工具信息的提示模式 ([T+H]) 下比其他基线方法表现更好。

#### 实现与部署
使用 ProTIP 和修订模型，作者对工具检索和规划任务的表现进行了评估。实验结果显示，ProTIP 在回忆@10指标上比任务分解基的语义搜索 (Task Decomposition based Semantic Search, TD-SS) 获得了大约 15.79% 的绝对提升，与此同时，在计划工具的准确性上提高了 10.61%，并将工具虚构降低了 0.26%。研究还发现，在规划任务中加入之前步骤的历史可以显著提高性能。研究强调了历史在实现更高的工具准确性方面的重要性，但同时也遇到了因历史太长而导致的输入截断问题。

#### 总结
这篇论文提出了 ProTIP，为大型语言模型在复杂规划任务中的工具检索和使用提供了一种进步的策略。ProTIP 的核心在于渐进式检索、有效利用执行历史和实现子任务与工具功能的对齐。实验结果展示出 ProTIP 明显超过传统方法，降低了工具虚构，并提高了规划效率。